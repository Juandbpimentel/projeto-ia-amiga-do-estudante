services:
  - type: web
    name: ufc-agent-backend
    repo: <your-repo-url>
    branch: main
    plan: starter
    envVars:
      - key: MODEL_NAME
        value: gemini-2.5-flash-lite
        from: ""
    # Root directory points to backend folder in monorepo
    root: backend
    buildCommand: pip install -r requirements.txt
    startCommand: |
      if [ -n "$GOOGLE_SERVICE_ACCOUNT_JSON" ]; then
        echo "$GOOGLE_SERVICE_ACCOUNT_JSON" > /tmp/google_creds.json
        export GOOGLE_APPLICATION_CREDENTIALS=/tmp/google_creds.json
      fi
      uvicorn main:app --host 0.0.0.0 --port $PORT
    # Health check endpoint
    healthCheckPath: /health
    env:
      - key: GOOGLE_API_KEY
        value: ""
      - key: GOOGLE_SERVICE_ACCOUNT_JSON
        value: ""
      - key: ALLOW_ORIGINS
        value: https://your-frontend.vercel.app
# To use this file, replace placeholder values above and push to your repo.
# Then, on the Render dashboard, you can create a new service from this `render.yaml`.
